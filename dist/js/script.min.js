!function(d){"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);document.querySelectorAll(".ga-ce").forEach(function(e,t){e.addEventListener("click",function(){var e=this.dataset.category||null,t=this.dataset.action||null,a=this.dataset.label||null,n=this.dataset.value||1;window.ga&&ga.create&&ga("send","event",e,t,a,n,null)})});({triggers:d(".share-popup"),init:function(){var t=this;t.triggers.click(function(e){e.preventDefault(),t.popup(d(this).attr("href"))})},popup:function(e){(popupWindow=window.open(e,"","width=600,height=400")).focus()}}).init();var i={view:d(".screen"),bios:d(".screen .bios"),started:!1,loading:{audio:!1,video:!1},ambientAudio:new Audio("sound/ambient.mp3"),audioPlayer:document.createElement("audio"),text:["<p>POTUS OS</p><p>Copyright (c) 2049, 2050. All Rights Reserved</p><p>BIOS Version: 204902041 Release 5</p><br />","<p>Battery Pack: 98% OK</p>","<p>Memory Test: 16384K OK</p>","<p>Initializing USB Controllers ... Done</p>","<br /><p>KANYE 2049 imagines a universe where our heroes actually act like heroes. The views and opinions of Kanye West do not reflect the views and opinions of characters in this imagined universe.</p>","<br /><br />","<p>Press Any Key to boot system</p>"],actionHandlers:[["play",()=>{this.resumeTrack()}],["pause",()=>{this.pauseTrack()}],["stop",()=>{this.stopTrack()}]],init:function(){var t,e,a=this,n=(a.setBodyHeight(),navigator.userAgent.toLowerCase());a.isIPhone=-1!=n.indexOf("iphone"),a.displayTime(),setTimeout(function(){a.boot()},100);for([t,e]of a.actionHandlers)try{navigator.mediaSession.setActionHandler(t,e)}catch(e){console.log(`The media session action "${t}" is not supported yet.`)}d(window).on("keyup click",function(e){i.started||(a.bios.hide(),a.setLoading(!0),setTimeout(function(){d(".login").addClass("loaded"),a.setLoading(!1)},1500),i.started=!0)}),a.ambientAudio.loop=!0,a.ambientAudio.volume=0,a.ambientAudio.addEventListener("timeupdate",function(){this.currentTime>this.duration-.44&&(this.currentTime=0,this.play())}),d(a.audioPlayer).on("ended",function(){a.stopTrack()}),d(a.audioPlayer).on("stalled",function(){console.log("audio stalled"),this.load()}),d("#video").on("stalled",function(){console.log("video stalled"),this.load()}),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("pause",()=>{a.pauseTrack()}),navigator.mediaSession.setActionHandler("play",()=>{a.resumeTrack()}),navigator.mediaSession.setActionHandler("seekto",e=>{a.audioPlayer.currentTime=e.seekTime}))},setBodyHeight:function(){d("body").css("height",window.innerHeight),setTimeout(this.setBodyHeight,100)},setLoading:function(e){e?d("body").addClass("loading"):d("body").removeClass("loading")},formatAMPM:function(e){var t=e.getHours(),a=e.getMinutes(),n=12<=t?"PM":"AM";return(t=(t%=12)||12)+":"+(a<10?"0"+a:a)+n+"<span> - "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+". "+e.getDate()+", 2049</span>"},displayTime:function(){var e=this,t=e.formatAMPM(new Date);d("#time").html(t),setTimeout(function(){e.displayTime()},1e3)},boot:function(){var a=this;a.isIPhone&&d(".hide-on-ios").hide(),d("body").addClass("crt"),a.view.fadeIn(100,function(){d.each(a.text,function(e,t){setTimeout(function(){a.bios.append(t)},700*e)})})},toggleAmbientSound:function(e){e?d(this.ambientAudio).animate({volume:.2},3e3):d(this.ambientAudio).animate({volume:0},8e3)},loadTrack:function(e){var t=this,a=(t.loading.video=!1,t.loading.audio=!1,t.setLoading(!0),d(t.audioPlayer).on("canplay",function(){t.playTrack("audio")}),d("#video").on("canplay",function(){t.playTrack("video")}),(t.playingTrack=e).addClass("active playing"),e.attr("data-sound")),n=e.attr("data-video"),i=e.attr("data-title"),e=e.attr("data-album");d("#video .mpeg").attr("src","video/"+n+".mp4"),d("#video .webm").attr("src","video/"+n+".webm"),d("#video").get(0).load(),t.audioPlayer.src="sound/"+a,t.audioPlayer.load(),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:i,artist:"Toasty Digital",album:e,artwork:[{src:"img/cover/"+e+"_96x96.png",sizes:"96x96",type:"image/png"},{src:"img/cover/"+e+"_128x128.png",sizes:"128x128",type:"image/png"},{src:"img/cover/"+e+"_192x192.png",sizes:"192x192",type:"image/png"},{src:"img/cover/"+e+"_256x256.png",sizes:"256x256",type:"image/png"},{src:"img/cover/"+e+"_384x384.png",sizes:"384x384",type:"image/png"},{src:"img/cover/"+e+"_512x512.png",sizes:"512x512",type:"image/png"}]}))},playTrack:function(e){var t=this;"audio"==e&&(t.loading.audio=!0),"video"==e&&(t.loading.video=!0),t.loading.audio&&t.loading.video&&(t.setLoading(!1),t.resumeTrack(),d("body").addClass("media-playing"),"mediaSession"in navigator)&&(navigator.mediaSession.playbackState="playing")},stopTrack:function(){var e=this;d(e.audioPlayer).unbind("canplay"),d("#video").unbind("canplay"),d("body").removeClass("media-playing"),d("#video").stop(!0,!0).fadeOut(800),setTimeout(function(){d("#video").get(0).pause()},800),e.audioPlayer.pause(),e.playingTrack.removeClass("active playing"),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="paused")},pauseTrack:function(){d("#video").get(0).pause(),this.audioPlayer.pause(),navigator.mediaSession.playbackState="paused"},resumeTrack:function(){d("#video").stop(!0,!0).fadeIn(800),d("#video").get(0).play(),this.audioPlayerPromise=this.audioPlayer.play()}};i.init(),d(".login .hint a").on("click",function(e){e.preventDefault(),d(this).parent(".hint").find("a").hide(),d(this).parent(".hint").find("span").show()}),d(".login form").on("submit",function(e){e.preventDefault();e=d(".login form input[type=password]").val().toLowerCase();["dGhlIGNvbGxlZ2UgZHJvcG91dA==","bGF0ZSByZWdpc3RyYXRpb24=","Z3JhZHVhdGlvbg==","ODA4ICYgaGVhcnRicmVhaw==","bXkgYmVhdXRpZnVsIGRhcmsgdHdpc3RlZCBmYW50YXN5","eWVlenVz","dGhlIGxpZmUgb2YgcGFibG8=","eWU=","amVzdXMgaXMga2luZw==","eWFuZGhp","dHVyYm9ncmFmeCAxNg==","Z29vZCBhc3Mgam9i","Y3J1ZWwgd2ludGVy","Y3J1ZWwgc3VtbWVy","c28gaGVscCBtZSBnb2Q=","c3dpc2g=","d2F2ZXM=","bG92ZSBldmVyeW9uZQ==","ZG9uZGE="].includes(btoa(e))?(d(".login").removeClass("loaded"),setTimeout(function(){d(".login").hide(),i.toggleAmbientSound(!1),i.setLoading(!1)},1800)):d(".login form input[type=password]").val("")}),d(".navbar .item.submenu button").on("click",function(e){d(this).parent(".submenu").hasClass("active")?d(".navbar .item.submenu.active").removeClass("active"):(d(".navbar .item.submenu.active").removeClass("active"),d(this).parent(".submenu").addClass("active"))}),d("body").on("click",function(e){d(e.target).closest(".item.submenu.active").length<=0&&d(".navbar .item.submenu.active").removeClass("active"),d(e.target).closest(".dialog, .navbar").length<=0&&d(".dialog").css("display","none").html(""),d(".file").removeClass("active")}),d(".disabled").on("click",function(e){e.preventDefault()}),d("#about").on("click",function(e){e.preventDefault(),d(".navbar .item.submenu.active").removeClass("active");d(".dialog").html('<div><p>Mixtapes by <a href="https://twitter.com/jonsantoast" target="_blank">toasty digital</a><br />Website by <a href="https://twitter.com/starfennec" target="_blank">starfennec</a><br />Funny dancing lizard by <a href="https://twitter.com/ka92/" target="_blank">ka92</a></p></div>').css("display","flex")}),d("#battery").on("click",function(e){e.preventDefault(),d(".navbar .item.submenu.active").removeClass("active");d(".dialog").html("<div><p>Battery power courtesy of Tesla Petroleum. Tesla Petroleum is not liable for any burns, explosions, or airborne carcinogens caused by this battery pack. Battery pack is single use; Do not attempt to recycle.</p></div>").css("display","flex")}),d("#fullscreen").on("click",function(e){e.preventDefault(),d(".navbar .item.submenu.active").removeClass("active");e=document.documentElement;d("body").hasClass("fullscreen")?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),d("body").removeClass("fullscreen")):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),d("body").addClass("fullscreen"))}),d("#restart").on("click",function(e){e.preventDefault(),location.reload()}),d("#print").on("click",function(e){d(".navbar .item.submenu.active").removeClass("active"),e.preventDefault(),window.print()}),d("#switchfiles").on("click",function(e){e.preventDefault(),d(".navbar .item.submenu.active").removeClass("active"),d(this).toggleClass("invert"),d("body").toggleClass("show-hidden-files")}),d("#folder1").on("click",function(e){e.preventDefault(),d(".finder").removeClass("focus"),d(".finder.2k49").addClass("focus").show("slow"),d(this).addClass("active")}),d("#folder2").on("click",function(e){e.preventDefault(),d(".finder").removeClass("focus"),d(".finder.gktfolder").addClass("focus").show("slow"),d(this).addClass("active")}),d("#folder3").on("click",function(e){e.preventDefault(),d(".finder").removeClass("focus"),d(".finder.blondafolder").addClass("focus").show("slow"),d(this).addClass("active")}),d("#folder4").on("click",function(e){e.preventDefault(),d(".finder").removeClass("focus"),d(this).addClass("active"),setTimeout(function(){d(".dialog").html("<div><p>File corrupted!<br />Please download it again.</p></div>").css("display","flex")},0),d(this).addClass("active")}),d("#lizard").on("click",function(e){e.preventDefault(),d("#video2").get(0).play(),d(".finder.fdl").addClass("focus").show()}),d("#readme").on("click",function(e){e.preventDefault(),e.stopPropagation(),d(".finder.readme").addClass("focus").show("slow")}),d("#earththt").on("click",function(e){e.preventDefault(),e.stopPropagation(),d(".finder.earth").addClass("focus").show("slow")}),d(".finder .close").on("click",function(e){e.preventDefault(),d(this).closest(".finder").hide()}),d(".play-track").on("click",function(e){e.preventDefault();var t=d(this);t.hasClass("playing")||(i.setLoading(!0),i.playingTrack?(i.stopTrack(),setTimeout(function(){i.loadTrack(t)},800)):i.loadTrack(t))}),d("#pause").on("click",function(e){e.preventDefault(),i.audioPlayer.paused?(d(this).removeClass("invert"),i.resumeTrack()):(d(this).addClass("invert"),i.pauseTrack())}),d("#stop").on("click",function(e){e.preventDefault(),d("body").removeClass("media-playing"),i.stopTrack()}),d(".finder").on("mousedown click",function(e){d(".finder.focus").removeClass("focus"),d(this).addClass("focus")}),d(".finder").each(function(e,t){function a(e){var t;(e=e||window.event).cancelable,e=e.touches?(t=e.touches[0].pageX,e.touches[0].pageY):(t=e.clientX,e.clientY),c=t,r=e,document.onmouseup=i,document.ontouchend=i,document.onmousemove=n,document.ontouchmove=n}function n(e){(e=e||window.event).cancelable&&e.preventDefault(),e=e.touches?(t=e.touches[0].pageX,e.touches[0].pageY):(t=e.clientX,e.clientY),s=c-t,l=r-e,c=t,r=e;var t=28<=o.offsetTop-l?o.offsetTop-l:28,e=0<=o.offsetLeft-s?o.offsetLeft-s:0;o.style.top=t+"px",o.style.left=e+"px"}function i(){document.onmouseup=null,document.ontouchend=null,document.onmousemove=null,document.ontouchmove=null}var o,s,l,c,r;r=c=l=s=0,d(o=t).find(".header").get(0)?(d(o).find(".header").get(0).onmousedown=a,d(o).find(".header").get(0).ontouchstart=a):(o.onmousedown=a,o.ontouchstart=a)})}(jQuery);